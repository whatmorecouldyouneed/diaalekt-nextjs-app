(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{993:(e,t,n)=>{Promise.resolve().then(n.bind(n,5100))},5100:(e,t,n)=>{"use strict";n.d(t,{default:()=>p});var o=n(7437),r=n(2265),s=n(2734),i=n(7118),a=n(8023);function l(){let e=(0,s._)(["\n  query {\n    products(first: 10) {\n      edges {\n        node {\n          id\n          title\n          description\n          variants(first: 1) {\n            edges {\n              node {\n                price {\n                  amount\n                  currencyCode\n                }\n              }\n            }\n          }\n          images(first: 1) {\n            edges {\n              node {\n                url\n                altText\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n"]);return l=function(){return e},e}let c=a.env.NEXT_PUBLIC_SHOPIFY_DOMAIN,d=a.env.NEXT_PUBLIC_SHOPIFY_STOREFRONT_ACCESS_TOKEN;console.log("\uD83D\uDD0D Environment Variables Check:",{shopifyDomain:c,shopifyToken:d?"".concat(d.substring(0,10),"..."):"NOT SET",nodeEnv:"production",allEnvKeys:Object.keys(a.env).filter(e=>e.includes("SHOPIFY"))}),c&&d||console.error("❌ Missing Shopify environment variables:",{domain:c,hasToken:!!d});let u=(0,i.Ps)(l());async function g(){if(console.log("\uD83D\uDE80 Starting fetchProducts function"),!c||!d)return console.warn("⚠️ Missing Shopify environment variables, returning mock data"),h();try{console.log("\uD83D\uDCE1 Making direct request to Shopify...");let e=new i.g6("https://".concat(c,"/api/2023-10/graphql.json"),{headers:{"X-Shopify-Storefront-Access-Token":d,"Content-Type":"application/json"}}),t=await e.request(u);if(console.log("✅ Shopify Response Received:",t),!t||!t.products||!t.products.edges)return console.warn("⚠️ No products found in Shopify response"),h();console.log("\uD83D\uDCE6 Found ".concat(t.products.edges.length," products"));let n=t.products.edges.map((e,t)=>{var n,o,r,s,i,a,l,c;let d=e.node,u=null===(r=d.variants)||void 0===r?void 0:null===(o=r.edges)||void 0===o?void 0:null===(n=o[0])||void 0===n?void 0:n.node,g=null===(a=d.images)||void 0===a?void 0:null===(i=a.edges)||void 0===i?void 0:null===(s=i[0])||void 0===s?void 0:s.node;if(console.log("\uD83D\uDD0D Processing product ".concat(t+1,":"),{title:d.title,hasVariant:!!u,hasImage:!!g,variantPrice:null==u?void 0:null===(l=u.price)||void 0===l?void 0:l.amount}),!u||!u.price)return console.warn("⚠️ Product ".concat(d.title," has no valid variant or price")),null;let h={id:d.id,title:d.title,description:d.description||"",price:parseFloat(u.price.amount),currencyCode:u.price.currencyCode,image:(null==g?void 0:g.url)||"/placeholder-product.jpg",altText:(null==g?void 0:g.altText)||d.title};return console.log("✅ Processed product ".concat(t+1,":"),h),h}).filter(Boolean);return console.log("✅ Successfully processed ".concat(n.length," products")),n.length>0?n:h()}catch(e){return console.error("❌ Error fetching products from Shopify:",e),e instanceof Error&&console.error("\uD83D\uDD0D Error details:",{name:e.name,message:e.message,stack:e.stack}),h()}}function h(){return[{id:"mock-1",title:"Handcrafted Ceramic Bowl",description:"Beautiful hand-thrown ceramic bowl perfect for your morning cereal or evening soup. Each piece is unique and made with love.",price:45,currencyCode:"USD",image:"https://images.unsplash.com/photo-1578662996442-48f60103fc96?w=500&h=500&fit=crop",altText:"Handcrafted ceramic bowl"},{id:"mock-2",title:"Artisan Wooden Cutting Board",description:"Premium hardwood cutting board that's both functional and beautiful. Perfect for your kitchen or as a serving platter.",price:65,currencyCode:"USD",image:"https://images.unsplash.com/photo-1556909114-f6e7ad7d3136?w=500&h=500&fit=crop",altText:"Artisan wooden cutting board"},{id:"mock-3",title:"Handwoven Textile Wall Hanging",description:"Stunning handwoven textile that adds warmth and texture to any space. Made using traditional techniques passed down through generations.",price:120,currencyCode:"USD",image:"https://images.unsplash.com/photo-1586023492125-27b2c045efd7?w=500&h=500&fit=crop",altText:"Handwoven textile wall hanging"}]}function p(e){let{initialProducts:t=[]}=e,[n,s]=(0,r.useState)(t),[i,a]=(0,r.useState)(0===t.length),[l,c]=(0,r.useState)(0);(0,r.useEffect)(()=>{console.log("\uD83D\uDD0D ProductList: Products state updated:",{productsLength:n.length,products:n,loading:i,currentProductIndex:l})},[n,i,l]),(0,r.useEffect)(()=>{if(t.length>0){a(!1);return}(async function(){console.log("\uD83D\uDD04 ProductList: Starting to load products");try{let e=await g();console.log("✅ ProductList: Products loaded successfully:",e),console.log("\uD83D\uDD0D ProductList: Data type:",typeof e),console.log("\uD83D\uDD0D ProductList: Data length:",Array.isArray(e)?e.length:"not an array"),console.log("\uD83D\uDD0D ProductList: First product:",e[0]),s(e)}catch(e){console.error("❌ ProductList: Error loading products:",e),s([])}finally{console.log("\uD83C\uDFC1 ProductList: Loading finished"),a(!1)}})()},[t.length]);let d=e=>{c(e)};if(i)return(0,o.jsxs)("div",{className:"max-w-4xl mx-auto text-center py-12",children:[(0,o.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),(0,o.jsx)("p",{className:"text-gray-600 text-lg",children:"Loading products..."})]});if(0===n.length)return(0,o.jsx)("div",{className:"max-w-4xl mx-auto text-center py-12",children:(0,o.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-12",children:[(0,o.jsx)("div",{className:"text-6xl mb-4",children:"\uD83C\uDF6A"}),(0,o.jsx)("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Products in Oven"}),(0,o.jsx)("p",{className:"text-xl text-gray-600 mb-6",children:"Come back soon! We're crafting something special for you."}),(0,o.jsx)("div",{className:"text-sm text-gray-500",children:"Our team is working hard to bring you amazing products"})]})});let u=n[l];return(0,o.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,o.jsx)("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden",children:(0,o.jsxs)("div",{className:"md:flex",children:[(0,o.jsx)("div",{className:"md:w-1/2",children:(0,o.jsx)("img",{src:u.image,alt:u.altText||u.title,className:"w-full h-96 md:h-full object-cover"})}),(0,o.jsxs)("div",{className:"md:w-1/2 p-8",children:[(0,o.jsx)("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:u.title}),u.description&&(0,o.jsx)("p",{className:"text-gray-600 mb-6 leading-relaxed",children:u.description}),(0,o.jsx)("div",{className:"flex items-center mb-6",children:(0,o.jsxs)("span",{className:"text-3xl font-bold text-gray-900",children:["$",u.price.toFixed(2)]})}),(0,o.jsx)("button",{className:"w-full bg-blue-600 text-white py-3 px-6 rounded-lg hover:bg-blue-700 transition duration-200 font-semibold",children:"Add to Cart"})]})]})}),(0,o.jsxs)("div",{className:"flex justify-between items-center mt-8",children:[(0,o.jsx)("button",{onClick:()=>{0!==n.length&&c(e=>0===e?n.length-1:e-1)},disabled:n.length<=1,className:"bg-gray-200 text-gray-700 px-6 py-3 rounded-lg hover:bg-gray-300 transition duration-200 font-semibold disabled:opacity-50 disabled:cursor-not-allowed",children:"← Previous"}),(0,o.jsx)("div",{className:"flex space-x-2",children:n.map((e,t)=>(0,o.jsx)("button",{onClick:()=>d(t),className:"w-3 h-3 rounded-full transition duration-200 ".concat(t===l?"bg-blue-600":"bg-gray-300 hover:bg-gray-400")},t))}),(0,o.jsx)("button",{onClick:()=>{0!==n.length&&c(e=>e===n.length-1?0:e+1)},disabled:n.length<=1,className:"bg-gray-200 text-gray-700 px-6 py-3 rounded-lg hover:bg-gray-300 transition duration-200 font-semibold disabled:opacity-50 disabled:cursor-not-allowed",children:"Next →"})]}),(0,o.jsxs)("div",{className:"text-center mt-4 text-gray-600",children:[l+1," of ",n.length]})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[920,130,182,744],()=>t(993)),_N_E=e.O()}]);